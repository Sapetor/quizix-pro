/**
 * CSS Custom Properties (Variables) and Typography
 * Safe extraction - pure value declarations that won't break layout
 */

/* Modern Design System */
:root {
    /* === PREMIUM FONT STACK === */
    --font-display: 'Plus Jakarta Sans', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', 'Consolas', monospace;

    /* === PREMIUM INDIGO COLOR PALETTE === */
    --color-primary-50: #eef2ff;
    --color-primary-100: #e0e7ff;
    --color-primary-400: #818cf8;
    --color-primary-500: #6366f1;
    --color-primary-600: #4f46e5;
    --color-primary-700: #4338ca;
    --color-primary-800: #3730a3;
    --color-primary-900: #312e81;

    /* Accent - Warm Coral (for CTAs and highlights) */
    --color-accent: #f97316;
    --color-accent-soft: rgba(249, 115, 22, 0.15);

    /* Semantic Colors */
    --color-success-500: #10b981;
    --color-warning-500: #f59e0b;
    --color-error-500: #ef4444;

    /* === PREMIUM EASING CURVES === */
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);

    /* Premium Duration Scale */
    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 400ms;

    /* Premium Gradient */
    --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --gradient-primary-hover: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
    
    /* === COLORFUL OPTIONS SYSTEM === */
    /* WCAG AA Accessible Colors: All meet â‰¥4.5:1 contrast with white text */

    /* Option A - Blue (contrast: 5.17:1 / 6.70:1) */
    --option-0-start: #2563eb;
    --option-0-end: #1d4ed8;
    --option-0-shadow: rgba(37, 99, 235, 0.3);
    --option-0-shadow-hover: rgba(37, 99, 235, 0.5);

    /* Option B - Green (contrast: 5.48:1 / 7.68:1) */
    --option-1-start: #047857;
    --option-1-end: #065f46;
    --option-1-shadow: rgba(4, 120, 87, 0.3);
    --option-1-shadow-hover: rgba(4, 120, 87, 0.5);

    /* Option C - Orange (contrast: 5.02:1 / 7.09:1) */
    --option-2-start: #b45309;
    --option-2-end: #92400e;
    --option-2-shadow: rgba(180, 83, 9, 0.3);
    --option-2-shadow-hover: rgba(180, 83, 9, 0.5);

    /* Option D - Red (contrast: 4.83:1 / 6.47:1) */
    --option-3-start: #dc2626;
    --option-3-end: #b91c1c;
    --option-3-shadow: rgba(220, 38, 38, 0.3);
    --option-3-shadow-hover: rgba(220, 38, 38, 0.5);

    /* Option E - Purple (contrast: 5.70:1 / 7.10:1) */
    --option-4-start: #7c3aed;
    --option-4-end: #6d28d9;
    --option-4-shadow: rgba(124, 58, 237, 0.3);
    --option-4-shadow-hover: rgba(124, 58, 237, 0.5);

    /* Option F - Cyan (contrast: 5.36:1 / 7.27:1) */
    --option-5-start: #0e7490;
    --option-5-end: #155e75;
    --option-5-shadow: rgba(14, 116, 144, 0.3);
    --option-5-shadow-hover: rgba(14, 116, 144, 0.5);
    
    /* True/False Colors */
    --true-color-start: var(--option-1-start);
    --true-color-end: var(--option-1-end);
    --true-shadow: var(--option-1-shadow);
    --true-shadow-hover: var(--option-1-shadow-hover);
    
    --false-color-start: var(--option-3-start);
    --false-color-end: var(--option-3-end);
    --false-shadow: var(--option-3-shadow);
    --false-shadow-hover: var(--option-3-shadow-hover);
    
    /* === GLASS MORPHISM SYSTEM === */
    --glass-light: rgba(255, 255, 255, 0.1);
    --glass-medium: rgba(255, 255, 255, 0.15);
    --glass-strong: rgba(255, 255, 255, 0.2);
    --glass-border: rgba(255, 255, 255, 0.2);
    
    /* Backdrop Blur System */
    --blur-subtle: blur(8px);
    --blur-medium: blur(16px);
    --blur-strong: blur(24px);
    
    /* === MODERN SHADOWS === */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.2);
    --shadow-glow: 0 0 20px rgba(59, 130, 246, 0.3);
    
    /* === TYPOGRAPHY SCALE === */
    --text-xs: calc(0.75rem * var(--global-font-scale));
    --text-sm: calc(0.875rem * var(--global-font-scale));
    --text-base: calc(1rem * var(--global-font-scale));
    --text-lg: calc(1.125rem * var(--global-font-scale));
    --text-xl: calc(1.25rem * var(--global-font-scale));
    --text-2xl: calc(1.5rem * var(--global-font-scale));
    --text-3xl: calc(1.875rem * var(--global-font-scale));
    --text-4xl: calc(2.25rem * var(--global-font-scale));
    
    /* Line Heights */
    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.75;

/* CSS Custom Properties */
    /* === SMOOTH THEME TRANSITIONS === */
    --theme-transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    --theme-transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --theme-transition-slow: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    --color-transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;

    /* Background Variables */
    --bg-primary: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);
    /* Default theme values - overridden by theme-specific sections below */
    --bg-secondary: rgba(255,255,255,0.18);
    --bg-glass: rgba(255,255,255,0.12);
    
    /* Text Colors */
    --text-primary: white;
    --text-secondary: #2563eb;
    --text-contrast: #1e293b;
    
    /* Modal and Card Backgrounds */
    --modal-bg: rgba(255,255,255,0.98);
    --modal-text: #1e293b;
    --card-bg: rgba(255,255,255,0.15);
    --bg-contrast: rgba(255,255,255,0.92);
    
    /* Border and Accent Colors */
    --border-color: rgba(255,255,255,0.3);
    --accent-primary: #2563eb;
    --accent-secondary: #dc2626;
    
    /* Status Colors */
    --success-color: #16a34a;
    --warning-color: #ea580c;
    --error-color: #dc2626;
    
    /* Shadows and Effects */
    --shadow-soft: 0 8px 32px rgba(0,0,0,0.15);
    --shadow-hover: 0 12px 40px rgba(0,0,0,0.2);
    --shadow-light: rgba(0,0,0,0.1);
    --border-radius: 16px;
    --border-radius-small: 12px;
    --border-radius-medium: 15px;
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Glass Effect Variants */
    --bg-glass-light: rgba(255,255,255,0.1);
    
    /* Accent Gradient */
    --accent-secondary-gradient: #1d4ed8;
    
    /* === CONTENT-DENSITY AWARE SPACING SYSTEM === */
    /* Base spacing units for different content densities */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 12px;
    --spacing-lg: 16px;
    --spacing-xl: 24px;
    --spacing-2xl: 32px;
    
    /* Content-specific density variables */
    --question-padding-compact: 12px;
    --question-padding-normal: 15px;
    --question-padding-spacious: 20px;
    
    --option-gap-compact: 6px;
    --option-gap-normal: 8px;
    --option-gap-spacious: 12px;
    
    --option-padding-compact: 8px 12px;
    --option-padding-normal: 12px 16px;
    --option-padding-spacious: 16px 20px;
    
    /* Smart sizing based on content type */
    --text-only-max-width: 600px;
    --latex-content-max-width: 700px;
    --code-content-max-width: 800px;
    --mixed-content-max-width: 750px;
    
    /* Question type specific adjustments - scale with font for accessibility */
    --multiple-choice-option-height: calc(60px * var(--global-font-scale));
    --true-false-option-height: calc(65px * var(--global-font-scale));
    --numeric-input-height: calc(50px * var(--global-font-scale));
    --checkbox-option-height: calc(45px * var(--global-font-scale));

    /* Interactive element heights - scale with font for accessibility */
    --button-min-height: calc(44px * var(--global-font-scale));
    --input-min-height: calc(48px * var(--global-font-scale));
    --timer-height: calc(48px * var(--global-font-scale));
    --counter-height: calc(48px * var(--global-font-scale));

    /* Preview Settings Variables */
    --split-left: 50fr;
    --split-right: 50fr;
    --preview-font-base: 1em;
    --preview-font-question: 1.1em;
    --preview-font-option: 0.95rem;
    --preview-font-small: 0.7rem;
    --preview-spacing: var(--option-gap-normal);
    --preview-spacing-small: var(--spacing-xs);
    --preview-spacing-large: var(--option-gap-spacious);
    --preview-button-padding: var(--option-padding-normal);
    --preview-border-radius: 8px;
    --preview-question-padding: var(--question-padding-normal);
    --preview-section-gap: 10px;
    --preview-line-height: 1.4;
    --preview-nav-padding: 5px 10px;
    --preview-button-height: 40px;
    --preview-content-padding: 8px;
    --preview-header-padding: 3px 4px;
    --preview-button-spacing: 6px 0;
    --preview-option-margin: var(--spacing-xs) 0;
    
    /* Global Font Scale */
    --global-font-scale: 1.0;
}

/* === DARK THEME SUPPORT === */
[data-theme="light"] {
    /* Modern Glass Morphism for Light Mode */
    --glass-light: rgba(255, 255, 255, 0.8);
    --glass-medium: rgba(255, 255, 255, 0.9);
    --glass-strong: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(0, 0, 0, 0.08);

    /* Enhanced Shadows for Light Mode with primary glow */
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12);
    --shadow-xl: 0 15px 40px rgba(0, 0, 0, 0.16);
    --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.25);
    --shadow-glow-intense: 0 0 30px rgba(99, 102, 241, 0.35);

    /* Premium Light Theme - Warmer, less clinical */
    --bg-light-primary: #fafafa;
    --bg-light-secondary: #f5f5f7;

    /* Light Theme Variables - Critical for theme switching */
    --bg-primary: linear-gradient(135deg, #fafafa 0%, #f5f5f7 50%, #ebebef 100%);
    --bg-secondary: rgba(99, 102, 241, 0.15);
    --text-primary: #1e293b;
    --text-secondary: #4338ca;
    --modal-bg: rgba(255, 255, 255, 0.98);
    --modal-text: #1e293b;
    --card-bg: rgba(255, 255, 255, 0.85);
    --border-color: rgba(0, 0, 0, 0.08);
    --accent-primary: #6366f1;
    --accent-secondary: #f97316;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --error-color: #ef4444;
    --bg-glass: rgba(255, 255, 255, 0.85);
    --text-contrast: #1e293b;
    --bg-contrast: rgba(255, 255, 255, 0.98);
    
    /* Form Elements */
    --input-bg: rgba(0, 0, 0, 0.03);
    --input-border: rgba(0, 0, 0, 0.15);
    --input-color: #1e293b;
    --input-placeholder: rgba(0, 0, 0, 0.65);
    
    /* Checkbox Options */
    --checkbox-bg: rgba(0, 0, 0, 0.03);
    --checkbox-border: rgba(0, 0, 0, 0.15);
    --checkbox-color: #1e293b;
    
    /* Language Dropdown */
    --dropdown-bg: rgba(255, 255, 255, 0.95);
    --dropdown-border: rgba(0, 0, 0, 0.1);
    --dropdown-color: #1e293b;
}

[data-theme="dark"] {
    /* Modern Glass Morphism for Dark Mode */
    --glass-light: rgba(255, 255, 255, 0.05);
    --glass-medium: rgba(255, 255, 255, 0.08);
    --glass-strong: rgba(255, 255, 255, 0.12);
    --glass-border: rgba(255, 255, 255, 0.15);

    /* Enhanced Shadows for Dark Mode with primary glow */
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.3);
    --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.4);
    --shadow-xl: 0 15px 40px rgba(0, 0, 0, 0.5);
    --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.4);
    --shadow-glow-intense: 0 0 30px rgba(99, 102, 241, 0.5);

    /* Premium Dark Theme - Richer depth */
    --bg-dark-primary: #0f0f14;
    --bg-dark-secondary: #18181f;
    --bg-dark-elevated: #1f1f28;

    /* Dark Theme Variables - Critical for theme switching */
    --bg-primary: linear-gradient(135deg, #0f0f14 0%, #18181f 50%, #1f1f28 100%);
    --bg-secondary: rgba(255,255,255,0.08);
    --text-primary: #f0f6fc;
    --text-secondary: #818cf8;
    --modal-bg: #1f1f28;
    --modal-text: #f8fafc;
    --card-bg: rgba(255,255,255,0.08);
    --border-color: rgba(255,255,255,0.15);
    --accent-primary: #818cf8;
    --accent-secondary: #f97316;
    --success-color: #10b981;
    --warning-color: #f59e0b;
    --error-color: #ef4444;
    --bg-glass: rgba(255,255,255,0.08);
    --text-contrast: #f0f6fc;
    --bg-contrast: rgba(15,15,20,0.95);

    /* Premium gradient mesh background */
    --gradient-bg-mesh: radial-gradient(ellipse at 20% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 50%),
                        radial-gradient(ellipse at 80% 100%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
    
    /* Form Elements */
    --input-bg: rgba(255, 255, 255, 0.05);
    --input-border: rgba(255, 255, 255, 0.15);
    --input-color: #f8fafc;
    --input-placeholder: rgba(255, 255, 255, 0.6);
    
    /* Checkbox Options */
    --checkbox-bg: rgba(255, 255, 255, 0.05);
    --checkbox-border: rgba(255, 255, 255, 0.2);
    --checkbox-color: #f8fafc;
    
    /* Language Dropdown */
    --dropdown-bg: rgba(255, 255, 255, 0.08);
    --dropdown-border: rgba(255, 255, 255, 0.15);
    --dropdown-color: #f8fafc;
}

/* Desktop Preview Ratios */
@media (min-width: 1400px) {
    :root {
        --split-left: 70%;
        --split-right: 30%;
    }
}

/* Typography Base */
/* Font family inherited from base.css */

/* ===== FONT SCALING UTILITY SYSTEM ===== */
/* Optimized utility classes to replace repetitive calc() declarations */

/* Core Font Size Utilities (most common sizes) */
.fs-xs,   /* 0.7rem - Used 2x */
.answer-stats .participant-name { 
    font-size: calc(0.7rem * var(--global-font-scale)) !important; 
}

.fs-sm,   /* 0.8rem - Used 2x */
.answer-stats .percentage,
.small-text { 
    font-size: calc(0.8rem * var(--global-font-scale)) !important; 
}

.fs-tiny, /* 0.85rem - Used 2x */
.quiz-editor-section .counter,
.small-details { 
    font-size: calc(0.85rem * var(--global-font-scale)) !important; 
}

.fs-mini, /* 0.9rem - Used 5x */
.question-type,
.difficulty-selector,
.time-input,
.helper-text,
.metadata { 
    font-size: calc(0.9rem * var(--global-font-scale)) !important; 
}

.fs-base, /* 1rem - Used 5x */
#preview-question-counter-display,
#preview-question-counter-display-split,
.base-text,
.form-helper,
.dropdown-items li { 
    font-size: calc(1rem * var(--global-font-scale)) !important; 
}

.fs-lg,   /* 1.1rem - Used 17x - MOST COMMON */
.quiz-editor-section input,
.quiz-editor-section textarea,
.quiz-editor-section label,
.question-text,
.option,
#quiz-title,
.answer-stats *,
.live-stats *,
.preview-content .player-option,
.preview-content .checkbox-option,
.preview-content .tf-option,
.preview-content-split .player-option,
.preview-content-split .checkbox-option,
.preview-content-split .tf-option,
.answer-stats .bar-container,
.live-answer-stats div,
.split-resize-display { 
    font-size: calc(1.1rem * var(--global-font-scale)) !important; 
}

.fs-xl,   /* 1.2rem - Used 12x - SECOND MOST COMMON */
.preview-content *,
.preview-content-split *,
#preview-question-text,
#preview-question-text-split,
.answer-stats .bar,
.ai-controls .prompt-example-item,
.result-card .score,
.leaderboard-body .score,
#preview-question-counter-split { 
    font-size: calc(1.2rem * var(--global-font-scale)) !important; 
}

.fs-med,  /* 1.25rem - Used 1x */
.medium-text { 
    font-size: calc(1.25rem * var(--global-font-scale)) !important; 
}

.fs-2xl,  /* 1.3rem - Used 4x - Host Options */
#question-counter,
.host-question-text,
.results-content .final-score,
.leaderboard-body .player-name { 
    font-size: calc(1.3rem * var(--global-font-scale)) !important; 
}

.fs-3xl,  /* 1.4rem - Used 7x - Player Options */
.quiz-editor-section h2,
.quiz-editor-section h3,
.final-results h2,
.prompt-counter,
.host-game-container .player-option,
.host-game-container .tf-option { 
    font-size: calc(1.4rem * var(--global-font-scale)) !important; 
}

.fs-4xl,  /* 1.5rem - Used 4x */
#current-question,
.host-game-question,
.leaderboard-body .position { 
    font-size: calc(1.5rem * var(--global-font-scale)) !important; 
}

.fs-5xl,  /* 1.6rem - Used 1x */
#player-question-text { 
    font-size: calc(1.6rem * var(--global-font-scale)) !important; 
}

.fs-6xl,  /* 1.8rem - Used 6x */
.final-results h1,
.result-card .podium-position,
.leaderboard-header h3,
.celebration-score,
.big-announcement { 
    font-size: calc(1.8rem * var(--global-font-scale)) !important; 
}

.fs-7xl,  /* 2.2rem - Used 1x */
.celebration-text { 
    font-size: calc(2.2rem * var(--global-font-scale)) !important; 
}

.fs-8xl,  /* 2.5rem - Used 2x */
.celebration-rank,
.big-score { 
    font-size: calc(2.5rem * var(--global-font-scale)) !important; 
}

.fs-9xl,  /* 4rem - Used 2x */
.title-display,
.hero-text { 
    font-size: calc(4rem * var(--global-font-scale)) !important; 
}

/* Special utilities for specific cases */
.fs-rel-sm, /* 0.85em - Used 1x */
.relative-small { 
    font-size: calc(0.85em * var(--global-font-scale)) !important; 
}

.fs-rel-md, /* 1.2em - Used 1x */
.relative-medium { 
    font-size: calc(1.2em * var(--global-font-scale)) !important; 
}

.fs-px-16,  /* 16px - Used 1x */
.pixel-16 { 
    font-size: calc(16px * var(--global-font-scale)) !important; 
}

.fs-px-48,  /* 48px - Used 2x */
.pixel-48 { 
    font-size: calc(48px * var(--global-font-scale)) !important; 
}

/* ===== OPTION COLOR SYSTEM ===== */
/* Consolidated option styling using CSS custom properties for maintainability */

/* Option A - Blue (nth-child(1), data-option="0") */
.option-display[data-option="0"],
.player-option[data-option="0"],
.player-checkbox-option[data-option="0"],
#player-multiple-correct .checkbox-option[data-option="0"],
.option-display[data-multiple="true"][data-option="0"],
.checkbox-option.preview-checkbox[data-option="0"] {
    background: linear-gradient(135deg, var(--option-0-start), var(--option-0-end));
    border-color: var(--option-0-start);
    box-shadow: 0 4px 20px var(--option-0-shadow);
    color: white;
}

.option-display[data-option="0"]:hover,
.player-option[data-option="0"]:hover,
.player-checkbox-option[data-option="0"]:hover,
#player-multiple-correct .checkbox-option[data-option="0"]:hover,
.checkbox-option.preview-checkbox[data-option="0"]:hover {
    box-shadow: 0 8px 32px var(--option-0-shadow-hover);
}

/* Option B - Green (nth-child(2), data-option="1") */
.option-display[data-option="1"],
.player-option[data-option="1"],
.player-checkbox-option[data-option="1"],
#player-multiple-correct .checkbox-option[data-option="1"],
.option-display[data-multiple="true"][data-option="1"],
.checkbox-option.preview-checkbox[data-option="1"] {
    background: linear-gradient(135deg, var(--option-1-start), var(--option-1-end));
    border-color: var(--option-1-start);
    box-shadow: 0 4px 20px var(--option-1-shadow);
    color: white;
}

.option-display[data-option="1"]:hover,
.player-option[data-option="1"]:hover,
.player-checkbox-option[data-option="1"]:hover,
#player-multiple-correct .checkbox-option[data-option="1"]:hover,
.checkbox-option.preview-checkbox[data-option="1"]:hover {
    box-shadow: 0 8px 32px var(--option-1-shadow-hover);
}

/* Option C - Orange (nth-child(3), data-option="2") */
.option-display[data-option="2"],
.player-option[data-option="2"],
.player-checkbox-option[data-option="2"],
#player-multiple-correct .checkbox-option[data-option="2"],
.option-display[data-multiple="true"][data-option="2"],
.checkbox-option.preview-checkbox[data-option="2"] {
    background: linear-gradient(135deg, var(--option-2-start), var(--option-2-end));
    border-color: var(--option-2-start);
    box-shadow: 0 4px 20px var(--option-2-shadow);
    color: white;
}

.option-display[data-option="2"]:hover,
.player-option[data-option="2"]:hover,
.player-checkbox-option[data-option="2"]:hover,
#player-multiple-correct .checkbox-option[data-option="2"]:hover,
.checkbox-option.preview-checkbox[data-option="2"]:hover {
    box-shadow: 0 8px 32px var(--option-2-shadow-hover);
}

/* Option D - Red (nth-child(4), data-option="3") */
.option-display[data-option="3"],
.player-option[data-option="3"],
.player-checkbox-option[data-option="3"],
#player-multiple-correct .checkbox-option[data-option="3"],
.option-display[data-multiple="true"][data-option="3"],
.checkbox-option.preview-checkbox[data-option="3"] {
    background: linear-gradient(135deg, var(--option-3-start), var(--option-3-end));
    border-color: var(--option-3-start);
    box-shadow: 0 4px 20px var(--option-3-shadow);
    color: white;
}

.option-display[data-option="3"]:hover,
.player-option[data-option="3"]:hover,
.player-checkbox-option[data-option="3"]:hover,
#player-multiple-correct .checkbox-option[data-option="3"]:hover,
.checkbox-option.preview-checkbox[data-option="3"]:hover {
    box-shadow: 0 8px 32px var(--option-3-shadow-hover);
}

/* Option E - Purple (nth-child(5), data-option="4") */
.option-display[data-option="4"],
.player-option[data-option="4"],
.player-checkbox-option[data-option="4"],
#player-multiple-correct .checkbox-option[data-option="4"],
.option-display[data-multiple="true"][data-option="4"],
.checkbox-option.preview-checkbox[data-option="4"] {
    background: linear-gradient(135deg, var(--option-4-start), var(--option-4-end));
    border-color: var(--option-4-start);
    box-shadow: 0 4px 20px var(--option-4-shadow);
    color: white;
}

.option-display[data-option="4"]:hover,
.player-option[data-option="4"]:hover,
.player-checkbox-option[data-option="4"]:hover,
#player-multiple-correct .checkbox-option[data-option="4"]:hover,
.checkbox-option.preview-checkbox[data-option="4"]:hover {
    box-shadow: 0 8px 32px var(--option-4-shadow-hover);
}

/* Option F - Cyan (nth-child(6), data-option="5") */
.option-display[data-option="5"],
.player-option[data-option="5"],
.player-checkbox-option[data-option="5"],
#player-multiple-correct .checkbox-option[data-option="5"],
.option-display[data-multiple="true"][data-option="5"],
.checkbox-option.preview-checkbox[data-option="5"] {
    background: linear-gradient(135deg, var(--option-5-start), var(--option-5-end));
    border-color: var(--option-5-start);
    box-shadow: 0 4px 20px var(--option-5-shadow);
    color: white;
}

.option-display[data-option="5"]:hover,
.player-option[data-option="5"]:hover,
.player-checkbox-option[data-option="5"]:hover,
#player-multiple-correct .checkbox-option[data-option="5"]:hover,
.checkbox-option.preview-checkbox[data-option="5"]:hover {
    box-shadow: 0 8px 32px var(--option-5-shadow-hover);
}

/* Special handling for multiple correct checkboxes with !important overrides */
#player-multiple-correct .checkbox-option[data-option="0"],
#mobile-preview-checkbox-options .checkbox-option[data-option="0"] {
    background: linear-gradient(135deg, var(--option-0-start), var(--option-0-end)) !important;
    border-color: var(--option-0-start) !important;
    box-shadow: 0 4px 20px var(--option-0-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="1"],
#mobile-preview-checkbox-options .checkbox-option[data-option="1"] {
    background: linear-gradient(135deg, var(--option-1-start), var(--option-1-end)) !important;
    border-color: var(--option-1-start) !important;
    box-shadow: 0 4px 20px var(--option-1-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="2"],
#mobile-preview-checkbox-options .checkbox-option[data-option="2"] {
    background: linear-gradient(135deg, var(--option-2-start), var(--option-2-end)) !important;
    border-color: var(--option-2-start) !important;
    box-shadow: 0 4px 20px var(--option-2-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="3"],
#mobile-preview-checkbox-options .checkbox-option[data-option="3"] {
    background: linear-gradient(135deg, var(--option-3-start), var(--option-3-end)) !important;
    border-color: var(--option-3-start) !important;
    box-shadow: 0 4px 20px var(--option-3-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="4"],
#mobile-preview-checkbox-options .checkbox-option[data-option="4"] {
    background: linear-gradient(135deg, var(--option-4-start), var(--option-4-end)) !important;
    border-color: var(--option-4-start) !important;
    box-shadow: 0 4px 20px var(--option-4-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="5"],
#mobile-preview-checkbox-options .checkbox-option[data-option="5"] {
    background: linear-gradient(135deg, var(--option-5-start), var(--option-5-end)) !important;
    border-color: var(--option-5-start) !important;
    box-shadow: 0 4px 20px var(--option-5-shadow) !important;
    color: white !important;
}

#player-multiple-correct .checkbox-option[data-option="0"]:hover,
#player-multiple-correct .checkbox-option[data-option="1"]:hover,
#player-multiple-correct .checkbox-option[data-option="2"]:hover,
#player-multiple-correct .checkbox-option[data-option="3"]:hover,
#player-multiple-correct .checkbox-option[data-option="4"]:hover,
#player-multiple-correct .checkbox-option[data-option="5"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="0"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="1"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="2"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="3"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="4"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="5"]:hover {
    /* NOTE: No scale() - causes blurry text due to sub-pixel rendering */
    transform: translateY(-2px);
}

#player-multiple-correct .checkbox-option[data-option="0"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="0"]:hover { box-shadow: 0 8px 32px var(--option-0-shadow-hover) !important; }
#player-multiple-correct .checkbox-option[data-option="1"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="1"]:hover { box-shadow: 0 8px 32px var(--option-1-shadow-hover) !important; }
#player-multiple-correct .checkbox-option[data-option="2"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="2"]:hover { box-shadow: 0 8px 32px var(--option-2-shadow-hover) !important; }
#player-multiple-correct .checkbox-option[data-option="3"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="3"]:hover { box-shadow: 0 8px 32px var(--option-3-shadow-hover) !important; }
#player-multiple-correct .checkbox-option[data-option="4"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="4"]:hover { box-shadow: 0 8px 32px var(--option-4-shadow-hover) !important; }
#player-multiple-correct .checkbox-option[data-option="5"]:hover,
#mobile-preview-checkbox-options .checkbox-option[data-option="5"]:hover { box-shadow: 0 8px 32px var(--option-5-shadow-hover) !important; }

/* ===== OPTIMIZATION COMPLETE ===== */
/* Font scaling system optimized from ~90 individual calc() declarations
   to consolidated utility classes. This reduces CSS bundle size by ~400 lines
   while maintaining all existing functionality.
   
   Benefits:
   - Single source of truth for each font size
   - Easy global font size modifications  
   - Better maintainability and consistency
   - Reduced CSS bundle size
   - Utility-first approach for reusability
   
   Usage: Apply utility classes like .fs-lg, .fs-xl, .fs-2xl to HTML elements
   or add selectors to existing utility declarations above.
*/

/* Remaining Non-Consolidated Rules */
/* MathJax specific scaling - kept separate due to em-based relative nature */
.player-option .MathJax,
.checkbox-option .MathJax,
.tf-option .MathJax,
.preview-option .MathJax,
.host-game-container .MathJax,
.player-game-container .MathJax {
    font-size: calc(1.2em * var(--global-font-scale)) !important;
}

/* Alternative boxes with LaTeX - layout properties (not font-related) */
.player-option,
.checkbox-option, 
.tf-option,
.preview-option {
    min-height: 2.5rem !important;
    line-height: 1.4 !important;
}

/* MathJax container sizing - kept for precise LaTeX control */
.player-option mjx-container,
.checkbox-option mjx-container,
.tf-option mjx-container,
.preview-option mjx-container {
    font-size: 1.1em !important;
}

